(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-873ce1e0"],{2533:function(e,t,s){"use strict";var o=s("8eb4"),n=s.n(o);n.a},"4c11":function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"wrapper"},[o("div",{staticClass:"board"},[o("ul",{staticClass:"board__ul"},e._l(e.receiveInfo,(function(t,n){return o("li",{key:n,class:t.id!=e.user?"board__li":"board__limi"},[o("img",{directives:[{name:"show",rawName:"v-show",value:t.id!=e.user,expression:"item.id != user"}],staticClass:"board__li__icon",attrs:{src:s("c121"),alt:""}}),o("div",{class:t.id!=e.user?"board__li__message":"board__limi__messagemi"},[e._v(" "+e._s(t.message)+" ")]),o("img",{directives:[{name:"show",rawName:"v-show",value:t.id==e.user,expression:"item.id == user"}],staticClass:"board__limi__iconmi",attrs:{src:s("c121"),alt:""}})])})),0)]),o("van-field",{staticClass:"chart__border",attrs:{placeholder:"请输入用户名"},model:{value:e.chat,callback:function(t){e.chat=t},expression:"chat"}},[o("van-button",{attrs:{slot:"button",type:"primary",size:"small"},on:{click:e.publish},slot:"button"},[e._v("publish")])],1)],1)},n=[],c=s("2f62"),i={computed:Object(c["b"])({location:"generator/location"}),data:function(){return{address:"",client:"",chat:"",user:"",receiveInfo:[],usersList:[]}},methods:{websocketCheck:function(){var e=this;"WebSocket"in window?(console.log("您的浏览器支持 WebSocket!"),e.client&&e.client.close(),e.user=1e4*Math.random(),e.user=Math.round(e.user),e.client=new WebSocket("ws://"+window.location.host+"/study/websocket/czd/"+e.user),e.client.onopen=function(){console.log("websocket连接上了...")},e.client.onmessage=function(t){var s=Object.assign({message:t.data,id:e.user});e.receiveInfo.push(s)},e.client.onclose=function(){console.log("连接已关闭...")}):alert("您的浏览器不支持 WebSocket!")},reconnect:function(){var e=this;"WebSocket"in window?(console.log("您的浏览器支持 WebSocket!"),e.user=1e4*Math.random(),e.user=Math.round(e.user),e.client=new WebSocket("ws://"+window.location.host+"/study/websocket/sniper/"+e.user),e.client.onopen=function(){console.log("连接websocket...")},e.client.onmessage=function(t){var s=Object.assign({message:t.data,id:e.user});e.receiveInfo.push(s)},e.client.onclose=function(){console.log("连接已关闭...")}):alert("您的浏览器不支持 WebSocket!")},publish:function(){var e=this;console.log("数据发送中..."),e.client.send(e.chat),e.chat=""},closeWs:function(){var e=this;console.log("关闭websocket..."),e.client.close()},onClickLeft:function(){var e=this;console.log(e,"8888888"),e.client.close(),window.$utils.exit()},onClickRight:function(){var e=this;e.client.close(),e.$toast(99)}},mounted:function(){var e=this;e.websocketCheck(),document.addEventListener("keyup",(function(t){"Enter"==t.key&&e.publish()}))}},a=i,l=(s("2533"),s("2877")),r=Object(l["a"])(a,o,n,!1,null,"2bf9d39a",null);t["default"]=r.exports},"8eb4":function(e,t,s){},c121:function(e,t,s){e.exports=s.p+"img/user.91d28fda.png"}}]);