(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4ce8fadb"],{"0449":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("main-card",{attrs:{"no-wrapper":"system"!==e.VUE_APP_MODE,"no-padding":"system"!==e.VUE_APP_MODE,"no-shadow":"system"!==e.VUE_APP_MODE}},[o("div",{attrs:{id:"wrapper"}},[o("div",{staticClass:"processwrapper"},[o("div",{staticClass:"processwrapper__aligncenter"},[o("div",{staticClass:"processwrapper__node"},[o("div",{staticClass:"processwrapper__node__info",on:{click:e.editApplicant}},[o("div",{staticClass:"processwrapper__node__title"},[e._v("applicant")]),o("div",{staticClass:"processwrapper__node__content"},[e._v(e._s(e.applicant))])]),o("div",{staticClass:"processwrapper__node__connector"},[o("div",{staticClass:"processwrapper__node__verticalLine"})]),o("img",{staticClass:"processwrapper__node__adder",attrs:{src:n("cf05"),alt:""},on:{click:e.addTerm}})])]),o("div",{staticClass:"processwrapper__aligncenter"},[o("div",{ref:"horiconnector",staticClass:"processwrapper__chart__horizontalLine"})]),o("div",{staticClass:"processwrapper__aligncenter"},e._l(e.processList,(function(t,s){return o("div",{key:s,ref:"process"+s,refInFor:!0,staticClass:"processwrapper__chart"},[o("div",{staticClass:"processwrapper__chart__verticalAxis"}),e._l(t.children,(function(t,r){return o("div",{key:r},["block"==t.type?o("div",{staticClass:"processwrapper__aligncenter",class:0==r?"customized__marginTop":""},[o("div",{staticClass:"processwrapper__node"},[o("div",{staticClass:"processwrapper__node__info"},[o("div",{staticClass:"processwrapper__node__title"},[e._v(e._s(t.title))]),o("div",{staticClass:"processwrapper__node__content"},[e._v(e._s(t.content))]),o("i",{staticClass:"el-icon-remove processwrapper__node__delete",on:{click:function(t){return e.removeNode(s,r)}}})]),o("img",{staticClass:"processwrapper__node__adder",attrs:{src:n("cf05"),alt:""},on:{click:function(t){return e.addNode(s,r)}}})])]):e._e(),"sub"==t.type?o("div",{staticClass:"processwrapper__branchOutWrapper"},[o("img",{staticClass:"processwrapper__branchOutWrapper__adder1",staticStyle:{"z-index":"1"},attrs:{src:n("cf05"),alt:""},on:{click:function(t){return e.addNodeTerm(s,r)}}}),o("div",{staticClass:"processwrapper__branchWrapper customized__marginBottem",staticStyle:{width:"auto"}},e._l(t.children,(function(t,a){return o("div",{key:a,ref:"subprocess"+r,refInFor:!0,staticClass:"processwrapper__chart1"},[o("div",{staticClass:"processwrapper__chart__verticalAxis"}),e._l(t.children,(function(t,i){return o("div",{key:i,staticClass:"processwrapper__node",class:0==i?" customized__marginTop":""},[o("div",{staticClass:"processwrapper__node__info"},[o("i",{staticClass:"el-icon-remove processwrapper__node__delete",on:{click:function(t){return e.removeSubNode(s,r,a,i)}}}),o("div",{staticClass:"processwrapper__node__title"},[e._v(" "+e._s(t.title)+" ")]),o("div",{staticClass:"processwrapper__node__content"},[e._v(" "+e._s(t.content)+" ")])]),o("img",{staticClass:"processwrapper__node__adder",attrs:{src:n("cf05"),alt:""},on:{click:function(t){return e.addSubNode(s,r,a,i)}}})])}))],2)})),0),o("img",{staticClass:"processwrapper__branchOutWrapper__adder",attrs:{src:n("cf05"),alt:""},on:{click:function(t){return e.addNode(s,r)}}})]):e._e()])}))],2)})),0),o("div",{staticClass:"processwrapper__aligncenter"},[o("div",{ref:"horiconnectorB",staticClass:"processwrapper__chart__horizontalLine"})])]),o("el-dialog",{attrs:{title:"条件",visible:e.newProTerm,modal:!1,center:!0,width:"60%"},on:{"update:visible":function(t){e.newProTerm=t}}},[o("epConfig",{attrs:{type:0,textInputLabel:"条件"}},[o("el-input",{staticClass:"customized__gapRight",attrs:{slot:"enterpriceName"},slot:"enterpriceName",model:{value:e.termNameInfo,callback:function(t){e.termNameInfo=t},expression:"termNameInfo"}})],1),o("epConfig",{attrs:{type:0,textInputLabel:"条件说明"}},[o("el-input",{staticClass:"customized__gapRight",attrs:{slot:"enterpriceName"},slot:"enterpriceName",model:{value:e.termContentInfo,callback:function(t){e.termContentInfo=t},expression:"termContentInfo"}})],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{size:"mini"},on:{click:function(t){e.newProTerm=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.submitTermInfo}},[e._v("确 定")])],1)],1),o("el-dialog",{attrs:{title:"新增节点条件",visible:e.newProNodeTerm,modal:!1,center:!0,width:"60%"},on:{"update:visible":function(t){e.newProNodeTerm=t}}},[o("epConfig",{attrs:{type:0,textInputLabel:"节点条件"}},[o("el-input",{staticClass:"customized__gapRight",attrs:{slot:"enterpriceName"},slot:"enterpriceName",model:{value:e.nodeTermNameInfo,callback:function(t){e.nodeTermNameInfo=t},expression:"nodeTermNameInfo"}})],1),o("epConfig",{attrs:{type:0,textInputLabel:"条件说明"}},[o("el-input",{staticClass:"customized__gapRight",attrs:{slot:"enterpriceName"},slot:"enterpriceName",model:{value:e.nodeContentInfo,callback:function(t){e.nodeContentInfo=t},expression:"nodeContentInfo"}})],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{size:"mini"},on:{click:function(t){e.newProNodeTerm=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.submitNodeTermInfo}},[e._v("确 定")])],1)],1),o("el-dialog",{attrs:{title:"审批环节",visible:e.newProNodeInfo,modal:!1,center:!0,width:"60%"},on:{"update:visible":function(t){e.newProNodeInfo=t}}},[o("epConfig",{attrs:{type:3,textInputLabel:"环节"}},[o("el-select",{attrs:{slot:"enterpriceName",disabled:e.banselector,placeholder:"请选择",size:"mini"},slot:"enterpriceName",model:{value:e.nodeAttr,callback:function(t){e.nodeAttr=t},expression:"nodeAttr"}},e._l(e.nodeElemList,(function(e){return o("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),o("epConfig",{directives:[{name:"show",rawName:"v-show",value:0==e.nodeAttr,expression:"nodeAttr == 0"}],attrs:{type:0,textInputLabel:"环节"}},[o("el-input",{staticClass:"customized__gapRight",attrs:{slot:"enterpriceName"},slot:"enterpriceName",model:{value:e.nodeNameInfo,callback:function(t){e.nodeNameInfo=t},expression:"nodeNameInfo"}})],1),o("epConfig",{directives:[{name:"show",rawName:"v-show",value:0==e.nodeAttr,expression:"nodeAttr == 0"}],attrs:{type:0,textInputLabel:"环节说明"}},[o("el-input",{staticClass:"customized__gapRight",attrs:{slot:"enterpriceName"},slot:"enterpriceName",model:{value:e.nodeContentInfo,callback:function(t){e.nodeContentInfo=t},expression:"nodeContentInfo"}})],1),o("epConfig",{directives:[{name:"show",rawName:"v-show",value:1==e.nodeAttr,expression:"nodeAttr == 1"}],attrs:{type:0,textInputLabel:"环节条件1"}},[o("el-input",{staticClass:"customized__gapRight",attrs:{slot:"enterpriceName"},slot:"enterpriceName",model:{value:e.subNodeName1,callback:function(t){e.subNodeName1=t},expression:"subNodeName1"}})],1),o("epConfig",{directives:[{name:"show",rawName:"v-show",value:1==e.nodeAttr,expression:"nodeAttr == 1"}],attrs:{type:0,textInputLabel:"环节说明1"}},[o("el-input",{staticClass:"customized__gapRight",attrs:{slot:"enterpriceName"},slot:"enterpriceName",model:{value:e.subNodeContent1,callback:function(t){e.subNodeContent1=t},expression:"subNodeContent1"}})],1),o("epConfig",{directives:[{name:"show",rawName:"v-show",value:1==e.nodeAttr,expression:"nodeAttr == 1"}],attrs:{type:0,textInputLabel:"环节条件2"}},[o("el-input",{staticClass:"customized__gapRight",attrs:{slot:"enterpriceName"},slot:"enterpriceName",model:{value:e.subNodeName2,callback:function(t){e.subNodeName2=t},expression:"subNodeName2"}})],1),o("epConfig",{directives:[{name:"show",rawName:"v-show",value:1==e.nodeAttr,expression:"nodeAttr == 1"}],attrs:{type:0,textInputLabel:"环节说明2"}},[o("el-input",{staticClass:"customized__gapRight",attrs:{slot:"enterpriceName"},slot:"enterpriceName",model:{value:e.subNodeContent2,callback:function(t){e.subNodeContent2=t},expression:"subNodeContent2"}})],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{size:"mini"},on:{click:function(t){e.newProNodeInfo=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.submitNodeInfo}},[e._v("确 定")])],1)],1),o("el-dialog",{attrs:{title:"审批环节",visible:e.toEditApplicant,modal:!1,center:!0,width:"60%"},on:{"update:visible":function(t){e.toEditApplicant=t}}},[o("epConfig",{attrs:{type:3,textInputLabel:"请选择申请人"}},[o("el-select",{attrs:{slot:"enterpriceName",placeholder:"请选择",size:"mini"},slot:"enterpriceName",model:{value:e.applicant,callback:function(t){e.applicant=t},expression:"applicant"}},e._l(e.applicantList,(function(e){return o("el-option",{key:e.value,attrs:{label:e.label,value:e.label}})})),1)],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{size:"mini"},on:{click:function(t){e.toEditApplicant=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.cfmEditApplicant}},[e._v("确 定")])],1)],1),o("el-dialog",{attrs:{title:"审批环节",visible:e.toEditNode,modal:!1,center:!0,width:"60%"},on:{"update:visible":function(t){e.toEditNode=t}}},[o("epConfig",{attrs:{type:3,textInputLabel:"请选择申请人"}},[o("el-select",{attrs:{slot:"enterpriceName",placeholder:"请选择",size:"mini"},slot:"enterpriceName",model:{value:e.nodeAttr,callback:function(t){e.nodeAttr=t},expression:"nodeAttr"}},e._l(e.nodeElemList,(function(e){return o("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),o("epConfig",{directives:[{name:"show",rawName:"v-show",value:0==e.nodeAttr,expression:"nodeAttr == 0"}],attrs:{type:0,textInputLabel:"环节"}},[o("el-input",{staticClass:"customized__gapRight",attrs:{slot:"enterpriceName"},slot:"enterpriceName",model:{value:e.nodeNameInfo,callback:function(t){e.nodeNameInfo=t},expression:"nodeNameInfo"}})],1),o("epConfig",{directives:[{name:"show",rawName:"v-show",value:0==e.nodeAttr,expression:"nodeAttr == 0"}],attrs:{type:0,textInputLabel:"环节说明"}},[o("el-input",{staticClass:"customized__gapRight",attrs:{slot:"enterpriceName"},slot:"enterpriceName",model:{value:e.nodeContentInfo,callback:function(t){e.nodeContentInfo=t},expression:"nodeContentInfo"}})],1),o("epConfig",{directives:[{name:"show",rawName:"v-show",value:1==e.nodeAttr,expression:"nodeAttr == 1"}],attrs:{type:0,textInputLabel:"环节条件1"}},[o("el-input",{staticClass:"customized__gapRight",attrs:{slot:"enterpriceName"},slot:"enterpriceName",model:{value:e.subNodeName1,callback:function(t){e.subNodeName1=t},expression:"subNodeName1"}})],1),o("epConfig",{directives:[{name:"show",rawName:"v-show",value:1==e.nodeAttr,expression:"nodeAttr == 1"}],attrs:{type:0,textInputLabel:"环节说明1"}},[o("el-input",{staticClass:"customized__gapRight",attrs:{slot:"enterpriceName"},slot:"enterpriceName",model:{value:e.subNodeContent1,callback:function(t){e.subNodeContent1=t},expression:"subNodeContent1"}})],1),o("epConfig",{directives:[{name:"show",rawName:"v-show",value:1==e.nodeAttr,expression:"nodeAttr == 1"}],attrs:{type:0,textInputLabel:"环节条件2"}},[o("el-input",{staticClass:"customized__gapRight",attrs:{slot:"enterpriceName"},slot:"enterpriceName",model:{value:e.subNodeName2,callback:function(t){e.subNodeName2=t},expression:"subNodeName2"}})],1),o("epConfig",{directives:[{name:"show",rawName:"v-show",value:1==e.nodeAttr,expression:"nodeAttr == 1"}],attrs:{type:0,textInputLabel:"环节说明2"}},[o("el-input",{staticClass:"customized__gapRight",attrs:{slot:"enterpriceName"},slot:"enterpriceName",model:{value:e.subNodeContent2,callback:function(t){e.subNodeContent2=t},expression:"subNodeContent2"}})],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{size:"mini"},on:{click:function(t){e.newProNodeInfo=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.submitNodeInfo}},[e._v("确 定")])],1)],1)],1)])},s=[],r=(n("4160"),n("a434"),n("159b"),{data:function(){return{VUE_APP_MODE:"system",applicant:"Sniper",processList:[],newProTerm:!1,termNameInfo:"",termContentInfo:"",newProNodeTerm:!1,nodeTermNameInfo:"",newProNodeInfo:!1,nodeNameInfo:"",nodeContentInfo:"",nodeElemList:[{value:0,label:"节点"},{value:1,label:"节点条件"}],nodeAttr:0,subNodeName1:"",subNodeName2:"",subNodeContent1:"",subNodeContent2:"",father:"",son:"",grandson:"",grand2son:"",banselector:!1,level:0,toEditApplicant:!1,applicantList:[{value:0,label:"sniper"},{value:1,label:"Trang"},{value:2,label:"Quyen"}],toEditNode:!1}},methods:{addTerm:function(){var e=this;e.termNameInfo="",e.termContentInfo="",e.newProTerm=!0},submitTermInfo:function(){var e=this,t=Object.assign({type:"block",title:e.termNameInfo,content:e.termContentInfo,children:[]}),n=Object.assign({item:e.termNameInfo,children:[t]});e.processList.push(n),e.$nextTick((function(){e.calcConnectorWidth()})),e.newProTerm=!1},addNodeTerm:function(e,t){var n=this;n.father=e,n.son=t,n.level=2,n.nodeTermNameInfo="",n.nodeContentInfo="",n.newProNodeTerm=!0},submitNodeTermInfo:function(){var e=this,t=Object.assign({title:e.nodeTermNameInfo,type:"block",content:e.nodeContentInfo,children:[{title:e.nodeTermNameInfo,content:e.nodeContentInfo,type:"block",children:[]}]});e.processList[e.father].children[e.son].children.push(t),e.$nextTick((function(){e.calcConnectorWidth()})),e.newProNodeTerm=!1},addNode:function(e,t){var n=this;n.father=e,n.son=t,n.banselector=!1,n.level=0,n.nodeNameInfo="",n.nodeContentInfo="",n.subNodeName1="",n.subNodeName2="",n.subNodeContent1="",n.subNodeContent2="",n.newProNodeInfo=!0},submitNodeInfo:function(){var e=this;if(0==e.level){var t=[];if(1==e.nodeAttr){var n=Object.assign({title:e.subNodeName1,type:"block",content:"",children:[{title:e.subNodeName1,type:"block",content:e.subNodeContent1,children:[]}]}),o=Object.assign({title:e.subNodeName2,type:"block",content:"",children:[{title:e.subNodeName2,type:"block",content:e.subNodeContent2,children:[]}]});t.push(n),t.push(o)}var s=Object.assign({title:e.nodeNameInfo,content:1==e.nodeAttr?"":e.nodeContentInfo,type:0==e.nodeAttr?"block":"sub",children:t});e.processList[e.father].children.splice(e.son+1,0,s)}else if(1==e.level){var r=Object.assign({title:e.nodeNameInfo,type:"block",content:e.nodeContentInfo,children:[]});e.processList[e.father].children[e.son].children[e.grandson].children.splice(e.grand2son+1,0,r)}e.nodeAttr=0,e.newProNodeInfo=!1,e.$nextTick((function(){e.calcConnectorWidth()}))},removeNode:function(e,t){var n=this;n.processList[e].children.length>1?n.processList[e].children.splice(t,1):n.processList.splice(e,1),n.$nextTick((function(){n.calcConnectorWidth()}))},addSubNode:function(e,t,n,o){var s=this;s.father=e,s.son=t,s.nodeContentInfo="",s.nodeNameInfo="",s.nodeContentInfo="",s.grandson=n,s.grand2son=o,s.level=1,s.nodeAttr=0,s.banselector=!0,s.newProNodeInfo=!0},removeSubNode:function(e,t,n,o){var s=this;if(s.processList[e].children[t].children[n].children.length>1)s.processList[e].children[t].children[n].children.splice(o,1);else if(2==s.processList[e].children[t].children.length){var r=0;r=0==n?1:0;var a=s.processList[e].children[t].children[r];s.processList[e].children.splice(t,1),a.children.forEach((function(n,o){var r=n;r.type="block",s.processList[e].children.splice(t,0,r)}))}else s.processList[e].children[t].children.splice(n,1);s.$nextTick((function(){s.calcConnectorWidth()}))},editApplicant:function(){var e=this;e.toEditApplicant=!0,console.log(e.applicant)},cfmEditApplicant:function(){var e=this;e.toEditApplicant=!1},calcConnectorWidth:function(){var e=this;if(e.$refs.process0&&e.$refs["process"+(e.processList.length-1)]){var t=e.$refs.process0[0].offsetLeft+e.$refs.process0[0].offsetWidth/2,n=e.$refs["process"+(e.processList.length-1)][0].offsetLeft+e.$refs["process"+(e.processList.length-1)][0].offsetWidth/2,o=e.$refs.process0[0].offsetWidth/2-e.$refs["process"+(e.processList.length-1)][0].offsetWidth/2;e.$refs.horiconnector.style.width=Math.abs(t-n)+"px",e.$refs.horiconnectorB.style.width=Math.abs(t-n)+"px",e.$refs.horiconnector.style.marginLeft=o+"px",e.$refs.horiconnectorB.style.marginLeft=o+"px"}}},mounted:function(){var e=this;e.calcConnectorWidth()}}),a=r,i=(n("a035"),n("2877")),c=Object(i["a"])(a,o,s,!1,null,"51c7f3d1",null);t["default"]=c.exports},9016:function(e,t,n){},a035:function(e,t,n){"use strict";var o=n("9016"),s=n.n(o);s.a},a434:function(e,t,n){"use strict";var o=n("23e7"),s=n("23cb"),r=n("a691"),a=n("50c4"),i=n("7b0b"),c=n("65f0"),l=n("8418"),p=n("1dde"),d=n("ae40"),u=p("splice"),m=d("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,_=Math.min,N=9007199254740991,v="Maximum allowed length exceeded";o({target:"Array",proto:!0,forced:!u||!m},{splice:function(e,t){var n,o,p,d,u,m,h=i(this),b=a(h.length),C=s(e,b),w=arguments.length;if(0===w?n=o=0:1===w?(n=0,o=b-C):(n=w-2,o=_(f(r(t),0),b-C)),b+n-o>N)throw TypeError(v);for(p=c(h,o),d=0;d<o;d++)u=C+d,u in h&&l(p,d,h[u]);if(p.length=o,n<o){for(d=C;d<b-o;d++)u=d+o,m=d+n,u in h?h[m]=h[u]:delete h[m];for(d=b;d>b-o+n;d--)delete h[d-1]}else if(n>o)for(d=b-o;d>C;d--)u=d+o-1,m=d+n-1,u in h?h[m]=h[u]:delete h[m];for(d=0;d<n;d++)h[d+C]=arguments[d+2];return h.length=b-o+n,p}})},cf05:function(e,t,n){e.exports=n.p+"img/logo.82b9c7a5.png"}}]);